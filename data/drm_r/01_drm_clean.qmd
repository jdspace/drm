---
title: "01_drm_clean"
author: "Jeremy Faulk"
format: html
editor: visual
---

```{r setup, include=FALSE}
# Load helpful libraries
library(readxl)
library(knitr)
library(janitor)
library(tidyverse)
library(scales)
library(here)

# Declare project root for 'here' (only needed once per session)
here::i_am("01_drm_clean.qmd")
```

```{r load-data}
# Define and read data
path <- here("data", "drm_merged", "drm_qualtrics_quantitative.csv")
if (!file.exists(path)) stop("File not found: ", path)
df <- read_csv(path)
head(df)
```

```{r write-summary}
# Convert summary list to data.frame and write to CSV
summary_df <- as.data.frame(summary(df))
output_file <- here("data", "drm_r", "outputs", paste0("summary_", format(Sys.time(), "%Y-%m-%d_%H%M%S"), ".csv"))
write_csv(summary_df, output_file)
```

# ----------------------
# .gitignore
# ----------------------
# RStudio files
.Rproj.user/
.Rhistory
.RData
.DS_Store

# Quarto/knitr output and cache
*_cache/
*_files/

# Output and intermediate render artifacts
outputs/
*.html
*.pdf
*.docx

# Raw data files
data/*.csv
data/*.xlsx

# ----------------------
# project_setup.R
# ----------------------
# This script installs needed packages and creates folders

packages <- c("here", "readxl", "janitor", "tidyverse", "scales")
installed <- rownames(installed.packages())
for (pkg in packages) {
  if (!(pkg %in% installed)) install.packages(pkg)
  library(pkg, character.only = TRUE)
}

# Create standard folders
fs::dir_create("data/drm_r/outputs")
fs::dir_create("data/drm_r/scripts")