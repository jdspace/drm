---
title: "01_drm_clean"
author: "Jeremy Faulk"
format:
  html: default
  pdf: default
editor: visual
---

## 📦 Load Libraries and Set Root

```{r setup, include=FALSE}
# Load helpful libraries
library(readxl)
library(knitr)
library(janitor)
library(tidyverse)
library(scales)
library(here)

# Declare project root for 'here' (only needed once per session)
here::i_am("data/drm_r/01_drm_clean.qmd")
```

------------------------------------------------------------------------

## 📥 Load Data

```{r load-data, echo=TRUE}
# Define and read data
path <- here("data", "drm_merged", "drm_qualtrics_quantitative.csv")
if (!file.exists(path)) stop("File not found: ", path)
df <- read_csv(path)

# Preview first few rows
head(df)
```

------------------------------------------------------------------------

## 📊 Export Summary

```{r write-summary, echo=TRUE}
# Generate and write summary to outputs folder
summary_df <- as.data.frame(summary(df))
output_file <- here("data", "drm_r", "outputs", paste0("summary_", Sys.Date(), ".csv"))
write_csv(summary_df, output_file)
```

------------------------------------------------------------------------

## 📁 .gitignore

``` bash
# RStudio files
.Rproj.user/
.Rhistory
.RData
.DS_Store

# Quarto/knitr output and cache
*_cache/
*_files/

# Output and intermediate render artifacts
outputs/
*.html
*.pdf
*.docx

# Raw data files
data/*.csv
data/*.xlsx
```

------------------------------------------------------------------------

## 🛠️ Setup Script Example (Optional)

``` r
# You can use this in a separate script if needed

packages <- c("here", "readxl", "janitor", "tidyverse", "scales")
installed <- rownames(installed.packages())

for (pkg in packages) {
  if (!(pkg %in% installed)) install.packages(pkg)
  library(pkg, character.only = TRUE)
}

fs::dir_create("data/drm_r/outputs")
fs::dir_create("data/drm_r/scripts")
```
